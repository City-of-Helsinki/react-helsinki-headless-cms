@use 'breakpoints';
@import 'spacing';

.contentLayout {
  --padding: #{$spacing-layout-2-xs};
  --max-width: calc(#{breakpoints.$container-width-xl} + (2 * var(--padding)));
  overflow: hidden;
  display: flex;
  flex-direction: column;

  & > *:not(:last-child) {
    margin-bottom: $spacing-layout-2-xs;
  }

  @media screen and (min-width: breakpoints.$breakpoint-m) {
    --padding: #{$spacing-layout-xs};
  }
}

.breadcrumbs {
  width: 100%;
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 0 var(--padding);
  box-sizing: border-box;
}

.mainLayout {
  display: flex;
  flex-direction: column;
  width: 100%;
}

.content {
  // Use flex for linear layout
  display: flex;
  flex-direction: column;

  width: 100%;
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 0 var(--padding);
  box-sizing: border-box;

  @media screen and (min-width: breakpoints.$breakpoint-m) {
    flex-direction: row;
  }

  & > *:nth-child(1) {
    @media screen and (min-width: breakpoints.$breakpoint-m) {
      flex: calc((100% / 3) * 2) 0 1;
      max-width: calc((100% / 3) * 2);
      // TODO: Replace with flex-gap when browsers support it
      margin-right: $spacing-xs;
    }
  }

  & aside {
    @media screen and (min-width: breakpoints.$breakpoint-m) {
      flex: calc(100% / 3) 0 0;
      // TODO: Replace with flex-gap when browsers support it
      margin-left: $spacing-xs;
    }
  }
}
